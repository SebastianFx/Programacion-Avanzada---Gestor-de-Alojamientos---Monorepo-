<section class="featured-grid">
  <div class="featured-grid__header">
    <h2 class="featured-grid__title">Alojamientos Destacados</h2>
    <p class="featured-grid__subtitle">
      Descubre los alojamientos mejor valorados del Eje Cafetero
    </p>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="featured-grid__loading">
    <div class="loading-spinner">
      <mat-spinner diameter="60"></mat-spinner>
    </div>
    <p class="loading-text">Cargando alojamientos destacados...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !isLoading" class="featured-grid__error">
    <mat-icon class="error-icon">error_outline</mat-icon>
    <p class="error-message">{{ error }}</p>
    <button mat-raised-button color="primary" (click)="retry()" class="error-retry-button">
      <mat-icon>refresh</mat-icon>
      Reintentar
    </button>
  </div>

  <!-- Empty State -->
  <div *ngIf="!isLoading && !error && accommodations.length === 0" class="featured-grid__empty">
    <mat-icon class="empty-icon">home_work</mat-icon>
    <p class="empty-message">No hay alojamientos destacados disponibles en este momento.</p>
  </div>

  <!-- Carrusel de Alojamientos -->
  <div *ngIf="!isLoading && !error && accommodations.length > 0" class="featured-grid__content">
    <div class="carousel-wrapper">
      <!-- Botón Izquierda -->
      <button
        class="carousel-nav carousel-nav--left"
        (click)="scrollLeft()"
        [class.carousel-nav--disabled]="!canScrollLeft"
        [disabled]="!canScrollLeft"
        aria-label="Anterior">
        <mat-icon>chevron_left</mat-icon>
      </button>

      <!-- Contenedor del Carrusel -->
      <div
        class="carousel-container"
        #carouselContainer
        (scroll)="onCarouselScroll()">
        <app-accommodation-card
          *ngFor="let accommodation of accommodations; trackBy: trackByAccommodationId"
          [accommodation]="accommodation"
          (cardClick)="onAccommodationClick($event)"
          class="carousel-item">
        </app-accommodation-card>
      </div>

      <!-- Botón Derecha -->
      <button
        class="carousel-nav carousel-nav--right"
        (click)="scrollRight()"
        [class.carousel-nav--disabled]="!canScrollRight"
        [disabled]="!canScrollRight"
        aria-label="Siguiente">
        <mat-icon>chevron_right</mat-icon>
      </button>
    </div>

    <!-- View All Button -->
    <div class="featured-grid__footer">
      <button mat-raised-button color="primary" class="view-all-button" (click)="onViewAllClick()">
        Ver todos los alojamientos
        <mat-icon>arrow_forward</mat-icon>
      </button>
    </div>
  </div>
</section>
